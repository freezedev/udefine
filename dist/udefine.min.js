/*! udefine - v0.8.4 - 25-09-2013 */
(function(){"use strict";var e,n,o,t={}.hasOwnProperty;(function(){var e;return null!=(e=Array.isArray)?e:Array.isArray=function(e){return e.push===Array.prototype.push&&null!=e.length}})(),n=!("undefined"==typeof module||null===module||!module.exports),e={},o=function(e){return"object"==typeof e&&!Array.isArray(e)},function(e){var r,u,l,i,s;return l=["commonjs","globals"],u=n?"commonjs":"globals",i=function(e,n){return"function"==typeof e?e.apply(this,n):e},r=function(e,o){var t,r;return n&&"string"==typeof s.modules[o][e]?(t=require("path"),r=function(){return s.paths[o].base?s.paths[o].base:""}(),require(t.join(process.cwd(),r,s.modules[o][e]))):s.modules[o][e]},s=function(n,t,l){var d,a,c,f,m,h,p,j;if(null==n)throw Error("A udefine module needs to have a name");return n!==n.toLowerCase()&&console.warn("A module should be all lowercase"),("function"==typeof t||o(t))&&(j=[n,[],t],n=j[0],t=j[1],l=j[2]),"undefined"!=typeof define&&null!==define?(define.amd||define.umd)&&(p=define.apply(this,arguments)):(a=function(){var e,n,o;for(o=[],e=0,n=t.length;n>e;e++)d=t[e],o.push(r(d,u));return o}(),p=i(l,a),Object.hasOwnProperty.call(s.modules[u],n)||(s.modules[u][n]=p)),Object.hasOwnProperty.call(s.inject.modules,n)||s.autoInject&&s.env.globals&&s.inject.add(n,{root:e,name:n}),Object.hasOwnProperty.call(s.inject.modules,n)&&(m=s.inject.modules[n],h=m.root,f=m.name,c=m.ignoreName,s.inject(h,f,c)(p)),p},s.autoInject=!0,s.inject=function(e,n,o){return function(t){return null!=e&&null!=n?o?e=t:e[n]=t:void 0}},s.inject.modules={},s.inject.add=function(n,o){return null!=n?(null==o&&(o={}),null==o.root&&(o.root=e),null==o.name&&(o.name=n),s.inject.modules[n]=o,this):void 0},s.inject.remove=function(e){return delete s.inject.modules[e],this},s.inject.clear=function(){return s.inject.modules={},this},s.modules={globals:{},commonjs:{},add:function(e,n){var o,t,r,l,i;if("object"==typeof e)for(o in e)r=e[o],this.add(o,r);else if(n)if(Array.isArray(n))for(l=0,i=n.length;i>l;l++)t=n[l],s.modules[t][e]=void 0;else s.modules.set(e,n);else s.modules[u][e]=void 0;return this},remove:function(e){var n,o,t;for(o=0,t=l.length;t>o;o++)n=l[o],Object.hasOwnProperty.call(s.modules[n],e)&&delete s.modules[n][e];return this},get:function(e){return s.modules[u][e]},set:function(e,n){var o,t;if("object"==typeof n)for(o in n)t=n[o],s.modules[o][e]=t;else s.modules[u][e]=n;return this},clear:function(){var e,n,o;for(n=0,o=l.length;o>n;n++)e=l[n],s.modules[e]={};return this}},s.env||(s.env={amd:function(){return"undefined"!=typeof define&&null!==define&&(define.amd||define.umd)}(),commonjs:n,browser:!n,globals:!n&&!s.amd}),s.paths={commonjs:{base:void 0}},s.defaultConfig=function(){return s.modules.commonjs.root=e,null!=e.define?define("root",function(){return e}):void 0},s.defaultConfig(),s.configure=function(n){var o,r,u,l=this;o={},u=s.env;for(r in u)t.call(u,r)&&(o[r]=function(e){return s.env[r]?e.call(l):void 0});return n.apply(o,[s,e])},n?module.exports=s:e.udefine=s}(n?{}:this)}).call(this);